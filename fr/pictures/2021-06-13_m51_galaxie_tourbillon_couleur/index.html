<!doctype html>
<html>
  <style>
    :root {
      --primary-color: #3e8eae;
      --secondary-color: #ffcc00;
      --text-color: #fff;
      --background-color: rgb(20, 20, 30);
      --banner-background-color: rgb(40, 40, 50);
    }
    .banner {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 60px;
      background-color: var(--banner-background-color);
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    .banner-titles {
      flex-grow: 1;
      text-align: center;
    }
    .banner-title {
      color: orange;
      margin-top: 5px;
      margin-bottom: 5px;
    }
    .banner-subtitle {
      margin-top: 5px;
    }
    .language-selector {
      margin-right: 10px;
      appearance: none;
      -webkit-appearance: none;
      -moz-appearance: none;
      background-color: var(--banner-background-color);
      color: #fff;
      padding: 10px;
      border: 1px solid #555;
      border-radius: 5px;
    }
    .content {
      margin-top: 70px;
    }
    body {
      color: #969696;
      background-color: var(--background-color);
    }
    .thumbnail {
      cursor: pointer;
    }
    .custom-button {
      background-color: #333;
      color: #eee;
      border: none;
      padding: 10px 20px;
      font-size: 14px;
      border-radius: 5px;
      cursor: pointer;
      transition: background-color 0.3s ease;
      margin-right: 10px;
      margin-bottom: 10px;
    }
    .custom-button:hover {
      background-color: #555;
    }
    .invisible-link {
      color: inherit;
      text-decoration: none;
    }
    .image-container {
      max-width: 100%;
      height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
    }
    .image-container img {
      max-width: 90%;
      max-height: 100%;
    }
    .close-button {
      position: absolute;
      top: 10px;
      right: 10px;
      cursor: pointer;
      color: #fff;
    }
    .borderless-table {
      border-collapse: collapse;
    }
    .borderless-table td {
      border: none;
      padding: 5px;
    }
  </style>
  <script type="module">
    document
      .getElementById("return-button")
      .addEventListener("click", function () {
        window.history.back();
      });
  </script>
  <body>
    <div class="banner">
      <div class="banner-titles">
        <h2 class="banner-title">
          <a class="invisible-link" href="/fr/">Metastro</a>
        </h2>
      </div>
      <select class="language-selector" id="language-selector">
        <option value="en">English</option>
        <option value="fr" selected="selected">Français</option>
      </select>
      <langage-selector
        data-newenurl="/en/pictures/2021-06-13_m51_galaxie_tourbillon_couleur/"
        data-newfrurl="/fr/pictures/2021-06-13_m51_galaxie_tourbillon_couleur/"
      ></langage-selector>
      <script type="module">
        class LangageSelector extends HTMLElement {
          constructor() {
            super();
            const newFrUrl = this.dataset.newfrurl;
            const newEnUrl = this.dataset.newenurl;

            document
              .getElementById("language-selector")
              .addEventListener("change", function () {
                var selectedOption = this.options[this.selectedIndex];
                if (selectedOption.value === "fr") {
                  window.location.href = newFrUrl;
                } else if (selectedOption.value === "en") {
                  window.location.href = newEnUrl;
                }
              });
            console.log("after");
          }
        }

        customElements.define("langage-selector", LangageSelector);
      </script>
    </div>
    <div class="content">
      <button class="custom-button" id="return-button">Retour</button>
      <a
        href="https://lh3.googleusercontent.com/d/1HfFJu-lbiDz1N1zLlaYLJ9h3e1CjkKeg"
      >
        <button class="custom-button" id="full-size-button">
          Image en taille réelle
        </button>
      </a>
      <div class="image-container">
        <img
          crossorigin="anonymous"
          class="fullSizeImage"
          src="https://lh3.googleusercontent.com/d/1HfFJu-lbiDz1N1zLlaYLJ9h3e1CjkKeg"
        />
      </div>
      <table class="borderless-table">
        <tr>
          <td>Date d'acquisition</td>
          <td id="acquisition-date">13 juin 2021</td>
        </tr>
        <tr>
          <td>Description</td>
          <td id="description">
            Galaxie du tourbillon (M51) en couleur. Environ 100 images de 20s
            pour la luminance, et seulement 10 poses de 20s pour chacunes des
            images couleurs R, V, B. L&#39;image est encore très bruitée, le
            temps de pose est probablement trop court (ou mon traitement
            mauvais). La suite au prochain épisode...
          </td>
        </tr>
        <tr>
          <td>Tags</td>
          <td>
            <a href="/fr/tags/deep-sky/">deep-sky</a>
            &nbsp;
            <a href="/fr/tags/galaxy/">galaxy</a>
            &nbsp;
            <a href="/fr/tags/m51/">m51</a>
            &nbsp;
          </td>
        </tr>
      </table>
    </div>
  </body>
</html>
